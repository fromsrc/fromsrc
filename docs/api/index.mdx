---
title: api reference
description: all exports from fromsrc
order: 1
---

fromsrc exports from two entry points:

- `fromsrc` - server utilities and content helpers
- `fromsrc/client` - react components and hooks

## fromsrc

server-side utilities for content loading.

### functions

<TypeTable
  data={{
    getDoc: { type: "(dir, slug[]) => Promise<Doc | null>", description: "load a single document by slug" },
    getAllDocs: { type: "(dir) => Promise<DocMeta[]>", description: "load metadata for all documents" },
    getNavigation: { type: "(dir) => Promise<Section[]>", description: "generate navigation structure" },
    defineContent: { type: "(config) => ContentAPI", description: "create typed content loader" },
    defineCollection: { type: "(config) => Collection", description: "create typed collection loader" },
    defineCollections: { type: "(configs) => Record<string, Collection>", description: "create multiple typed collections" },
  }}
/>

### api utilities

<TypeTable
  data={{
    json: { type: "(data, status?, headers?) => Response", description: "return json response with content-type" },
    error: { type: "(message, status?) => Response", description: "return json error response" },
    cors: { type: "(config?) => Record<string, string>", description: "build cors headers map" },
    withCors: { type: "(response, config?) => Response", description: "attach cors headers to response" },
    cache: { type: "(response, maxAge, stale?) => Response", description: "attach cache-control headers" },
    rateLimiter: { type: "(config) => (key) => { allowed; remaining; resetAt }", description: "create fixed-window limiter" },
  }}
/>

`rateLimiter` stores counters in process memory. use a shared store for multi-instance deployments.

### schema utilities

<TypeTable
  data={{
    baseSchema: { type: "ZodObject", description: "default frontmatter schema (title, description, order)" },
    defineSchema: { type: "(schema) => schema", description: "define custom frontmatter schema" },
    extendSchema: { type: "(fields) => ZodObject", description: "extend base schema with extra fields" },
    z: { type: "typeof zod", description: "re-exported zod for schema definitions" },
  }}
/>

### types

```typescript
interface Doc {
  slug: string
  title: string
  description?: string
  order?: number
  content: string
  data: Record<string, unknown>
}

interface DocMeta {
  slug: string
  title: string
  description?: string
  order?: number
}

interface ContentConfig {
  dir: string
  schema?: ZodObject
}
```

## fromsrc/client

react components for building documentation ui.

### layout components

| component | description |
|-----------|-------------|
| Sidebar | navigation sidebar with sections and folders |
| MobileNav | mobile navigation drawer |
| Breadcrumb | breadcrumb navigation |
| Toc | table of contents sidebar |
| TocInline | inline table of contents |

### content components

| component | description |
|-----------|-------------|
| CodeBlock | syntax highlighted code with copy button |
| CodeGroup | tabbed code blocks |
| Callout | info, warning, error, tip callouts |
| Steps | numbered step lists |
| Tabs | tabbed content panels |
| Cards | grid of linked cards |
| Accordion | collapsible sections |
| Files | file tree display |
| TypeTable | api property documentation |

### utility components

| component | description |
|-----------|-------------|
| Badge | inline badges |
| Banner | dismissible banners |
| Link | external link with icon |
| Zoom | image lightbox |
| Tooltip | hover tooltips |
| Github | github repo info |
| Video | embedded video |
| Mermaid | mermaid diagrams |
| ThemeToggle | light/dark mode toggle |
| BackToTop | scroll to top button |

### hooks

<TypeTable
  data={{
    useToc: { type: "() => TocState", description: "access table of contents state" },
    useKeyboardNav: { type: "(docs) => void", description: "enable keyboard navigation" },
    useCopy: { type: "(duration?) => { copied, copy }", description: "copy to clipboard utility" },
  }}
/>

## detailed reference

<Cards>
  <Card title="hooks" href="/docs/api/hooks">
    useCopy, useToc, useKeyboardNav
  </Card>
  <Card title="content api" href="/docs/api/content">
    getDoc, getAllDocs, getNavigation, defineContent
  </Card>
  <Card title="collections api" href="/docs/api/collections">
    defineCollection, defineCollections
  </Card>
  <Card title="components api" href="/docs/api/components">
    props reference for all components
  </Card>
</Cards>

## usage example

```tsx
// server component (page.tsx)
import { getDoc, getAllDocs } from "fromsrc"

const doc = await getDoc("docs", ["installation"])
const docs = await getAllDocs("docs")
```

```tsx
// client component
import { Sidebar, Search, Toc } from "fromsrc/client"

<Sidebar navigation={nav} />
<Search docs={docs} />
<Toc />
```
