---
title: hooks
description: react hooks for documentation features
order: 2
---

custom hooks for common documentation patterns.

## useCopy

copy text to clipboard with feedback state.

```tsx
import { useCopy } from "fromsrc/client"

function CopyButton({ text }: { text: string }) {
  const { copied, copy } = useCopy()

  return (
    <button onClick={() => copy(text)}>
      {copied ? "copied" : "copy"}
    </button>
  )
}
```

<TypeTable
  data={{
    duration: { type: "number", default: "1500", description: "feedback duration in ms" },
  }}
/>

### useCopy returns

<TypeTable
  data={{
    copied: { type: "boolean", description: "true after copying, resets after duration" },
    copy: { type: "(text: string) => Promise<void>", description: "copy text to clipboard" },
  }}
/>

## useToc

access table of contents state for custom toc implementations.

```tsx
import { useToc } from "fromsrc/client"

function CustomToc() {
  const { headings, active } = useToc()

  return (
    <ul>
      {headings.map(h => (
        <li key={h.id} data-active={h.id === active}>
          <a href={`#${h.id}`}>{h.text}</a>
        </li>
      ))}
    </ul>
  )
}
```

### useToc returns

<TypeTable
  data={{
    headings: { type: "Heading[]", description: "list of headings on the page" },
    active: { type: "string", description: "id of currently active heading" },
  }}
/>

### Heading type

```typescript
interface Heading {
  id: string
  text: string
  level: number
}
```

## useKeyboardNav

enable keyboard navigation between documentation pages.

```tsx
import { useKeyboardNav } from "fromsrc/client"

function KeyboardNav({ docs }: { docs: DocMeta[] }) {
  useKeyboardNav(docs)
  return null
}
```

this hook enables:
- **left arrow** - navigate to previous page
- **right arrow** - navigate to next page

<TypeTable
  data={{
    docs: { type: "DocMeta[]", required: true, description: "ordered list of docs for navigation" },
    basePath: { type: "string", default: '"/docs"', description: "base path for documentation routes" },
  }}
/>

## useScrollSpy

track which heading is currently visible in the viewport.

```tsx
import { useScrollSpy } from "fromsrc/client"

function ActiveIndicator({ ids }: { ids: string[] }) {
  const activeId = useScrollSpy(ids)
  return <div>active: {activeId}</div>
}
```

<TypeTable
  data={{
    ids: { type: "string[]", required: true, description: "array of element ids to track" },
    offset: { type: "number", default: "100", description: "scroll offset from top" },
    threshold: { type: "number", default: "0.5", description: "intersection threshold" },
  }}
/>

## useAnchorScroll

smooth scrolling to anchor links with configurable offset.

```tsx
import { useAnchorScroll } from "fromsrc/client"

function DocsLayout() {
  useAnchorScroll({ offset: 80 })
  return <main>...</main>
}
```

<TypeTable
  data={{
    offset: { type: "number", default: "80", description: "scroll offset for fixed headers" },
    smooth: { type: "boolean", default: "true", description: "enable smooth scrolling" },
  }}
/>

## useMediaQuery

react to media query changes.

```tsx
import { useIsMobile, useIsDesktop } from "fromsrc/client"

function ResponsiveLayout() {
  const isMobile = useIsMobile()
  return isMobile ? <MobileLayout /> : <DesktopLayout />
}
```

available hooks:
- `useMediaQuery(query)` - custom media query
- `useIsMobile()` - below 768px
- `useIsTablet()` - 769px to 1024px
- `useIsDesktop()` - above 1025px
- `usePrefersDark()` - dark mode preference
- `usePrefersReducedMotion()` - reduced motion preference

## useLocalStorage

persist state to local storage.

```tsx
import { useLocalStorage } from "fromsrc/client"

function Preferences() {
  const [theme, setTheme] = useLocalStorage("theme", "dark")
  return <button onClick={() => setTheme("light")}>light</button>
}
```

<TypeTable
  data={{
    key: { type: "string", required: true, description: "storage key" },
    defaultValue: { type: "T", required: true, description: "default value if not stored" },
  }}
/>

also available: `useSessionStorage` with same api.

## useToast

show toast notifications with configurable types and duration.

```tsx
import { ToastProvider, useToast } from "fromsrc/client"

function App() {
  return (
    <ToastProvider>
      <NotifyButton />
    </ToastProvider>
  )
}

function NotifyButton() {
  const { add } = useToast()

  return (
    <button onClick={() => add({ message: "saved", type: "success" })}>
      save
    </button>
  )
}
```

### useToast returns

<TypeTable
  data={{
    toasts: { type: "Toast[]", description: "list of active toasts" },
    add: { type: "(toast: Omit<Toast, 'id'>) => void", description: "add a toast notification" },
    remove: { type: "(id: string) => void", description: "dismiss a toast by id" },
  }}
/>

### Toast type

```typescript
interface Toast {
  id: string
  message: string
  type: "info" | "success" | "warning" | "error"
  duration?: number
}
```

## useDebounce

debounce a value with configurable delay.

```tsx
import { useDebounce } from "fromsrc/client"

function SearchInput() {
  const [query, setQuery] = useState("")
  const debounced = useDebounce(query, 300)

  useEffect(() => {
    if (debounced) search(debounced)
  }, [debounced])

  return <input value={query} onChange={(e) => setQuery(e.target.value)} />
}
```

<TypeTable
  data={{
    value: { type: "T", required: true, description: "value to debounce" },
    delay: { type: "number", required: true, description: "debounce delay in ms" },
  }}
/>
