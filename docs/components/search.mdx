---
title: search
description: fast client-side search
order: 10
---

instant search with cmd+k support.

## usage

```tsx
import { Search } from "fromsrc/client"
import { getAllDocs } from "fromsrc"

const docs = await getAllDocs()

<Search docs={docs} />
```

## keyboard shortcuts

- **cmd+k** - open search
- **esc** - close search
- **arrow keys** - navigate results
- **enter** - select result

## features

- fuzzy matching
- ranked results
- title and description search
- keyboard navigation
- responsive modal

## props

<TypeTable
  data={{
    docs: { type: "DocMeta[]", required: true, description: "array of docs to search" },
    basePath: { type: "string", default: "/docs", description: "base path for result links" },
    hidden: { type: "boolean", default: "false", description: "hide trigger button, only show modal" },
    adapter: { type: "SearchAdapter", default: "localSearch", description: "custom search adapter" },
    debounce: { type: "number", default: "100", description: "debounce delay in milliseconds" },
  }}
/>

## how it works

search runs entirely client-side using fuzzy matching. when the component mounts, it indexes all doc titles and descriptions.

<Steps>
<Step>

### indexing

docs are indexed on mount. each doc's title and description are tokenized for matching.

</Step>
<Step>

### matching

user input is matched against tokens using fuzzy matching with typo tolerance.

</Step>
<Step>

### ranking

results are ranked by relevance. title matches score higher than description matches.

</Step>
</Steps>

## search adapter

create custom search adapters for external services or advanced search.

### interface

```ts
interface SearchAdapter {
  search(query: string, docs: SearchDoc[]): SearchResult[] | Promise<SearchResult[]>
  index?(docs: SearchDoc[]): void | Promise<void>
}

interface SearchResult {
  doc: SearchDoc
  score: number
  snippet?: string
}
```

### custom adapter

```ts
import { createSearchAdapter } from "fromsrc"

const algoliaAdapter = createSearchAdapter({
  search(query, docs) {
    const results = algoliaIndex.search(query)
    return results.map(hit => ({
      doc: docs.find(d => d.slug === hit.objectID)!,
      score: hit._score,
      snippet: hit._highlightResult?.content?.value,
    }))
  },
  async index(docs) {
    await algoliaIndex.saveObjects(docs.map(d => ({
      objectID: d.slug,
      title: d.title,
      content: d.content,
    })))
  },
})
```

### usage

```tsx
<Search docs={docs} adapter={algoliaAdapter} />
```

## customization

### placeholder text

wrap the search component to customize the placeholder:

```tsx
<div className="[&_input]:placeholder:text-dim">
  <Search docs={docs} />
</div>
```

### styling

search uses semantic color variables that adapt to your theme:

- `--color-bg` - modal background
- `--color-surface` - input background
- `--color-line` - borders
- `--color-fg` - text
- `--color-muted` - secondary text

## performance

search is optimized for docs sites up to thousands of pages:

- local or hosted adapter support
- debounced input handling
- virtual scrolling for large result sets
- minimal bundle size
